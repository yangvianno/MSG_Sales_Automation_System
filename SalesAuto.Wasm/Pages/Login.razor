@page "/login"
@inject NavigationManager NavMan
<AuthorizeView>
        <Authorized>
            @{
                NavMan.NavigateTo("/");
            };
        </Authorized>
</AuthorizeView>
@if (showError)
{
    <div class="alert alert-danger">
        <p>
            @errorMessage;
        </p>
    </div>
}
<div class="row justify-content-md-center">
    <div class="col" />
    <div class="col align-middle">
        <div class="card" style="width: 18rem;">
            <div class="card-body">
                <h5 class="card-title">Login</h5>
                <EditForm Model="loginRequest" OnValidSubmit="HandleLogin">
                    <DataAnnotationsValidator></DataAnnotationsValidator>
                    <ValidationSummary></ValidationSummary>
                    <div class="form-group">
                        <label for="username">User name</label>
                        <InputText id="username" class="form-control" @bind-Value="loginRequest.UserName"></InputText>
                        <ValidationMessage For="()=>loginRequest.UserName"></ValidationMessage>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <InputText id="password" type="password" class="form-control" @bind-Value="loginRequest.Password"></InputText>
                        <ValidationMessage For="()=>loginRequest.Password"></ValidationMessage>
                    </div>
                    <button type="submit" class="btn btn-success">Login</button>
                </EditForm>
            </div>
            <div>
                <SalesAuto.Wasm.Components.MSALDemo></SalesAuto.Wasm.Components.MSALDemo>    
            </div>
        </div>
    </div>
    <div class="col" />
</div>

